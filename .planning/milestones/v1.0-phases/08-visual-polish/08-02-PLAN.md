---
phase: 08-visual-polish
plan: 02
type: execute
wave: 2
depends_on:
  - "08-01"
files_modified:
  - components/habits/habit-card.tsx
  - components/tasks/task-card.tsx
  - components/dashboard/daily-snapshot.tsx
  - components/dashboard/tasks-today.tsx
  - components/dashboard/habit-checklist.tsx
  - app/page.tsx
autonomous: true
requirements:
  - VISL-07

must_haves:
  truths:
    - "Interactive cards (HabitCard, TaskCard, landing feature cards) display subtle hover effects (shadow lift, border highlight)"
    - "Hover effects are consistent across all pages and both themes"
    - "Users with prefers-reduced-motion see no animations or transforms on hover"
    - "The existing aggressive hover:scale-[1.03] on HabitCard and TaskCard is replaced with subtle translate-y lift"
  artifacts:
    - path: "components/habits/habit-card.tsx"
      provides: "Refined card hover with shadow-md, translate-y, border-primary/30, motion-reduce support"
      contains: "motion-reduce:transition-none"
    - path: "components/tasks/task-card.tsx"
      provides: "Refined card hover with shadow-md, translate-y, border-primary/30, motion-reduce support"
      contains: "motion-reduce:transition-none"
  key_links:
    - from: "components/habits/habit-card.tsx"
      to: "components/tasks/task-card.tsx"
      via: "Shared interaction pattern"
      pattern: "hover:shadow-md hover:-translate-y-0.5 hover:border-primary/30"
---

<objective>
Add subtle, consistent hover/focus micro-interactions to all interactive cards and buttons, replace aggressive scale transforms with refined lift effects, and add prefers-reduced-motion support across the codebase.

Purpose: Interactive elements currently lack consistent feedback. HabitCard and TaskCard use an aggressive `hover:scale-[1.03]` that causes layout jank. Landing page feature cards have basic `hover:shadow-md` but no border highlight. No `motion-reduce:` classes exist anywhere in the codebase. This plan creates a polished, consistent interaction layer.

Output: All interactive cards have `transition-all duration-200 hover:shadow-md hover:-translate-y-0.5 hover:border-primary/30` with `motion-reduce:transition-none motion-reduce:hover:transform-none`. HabitRow and TaskRow interactive elements have focus-visible ring styles.
</objective>

<execution_context>
@/home/xingdi/.claude/get-shit-done/workflows/execute-plan.md
@/home/xingdi/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/08-visual-polish/08-RESEARCH.md
@.planning/phases/08-visual-polish/08-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Refine card hover interactions and add motion-reduce support</name>
  <files>
    components/habits/habit-card.tsx
    components/tasks/task-card.tsx
    app/page.tsx
  </files>
  <action>
Update interactive card hover effects to be consistent, subtle, and accessible:

**`components/habits/habit-card.tsx`:**
Replace the current Card className hover pattern:
```
transition-all hover:shadow-lg hover:scale-[1.03] hover:-translate-y-0.5 duration-200
```
With the refined pattern:
```
transition-all duration-200 hover:shadow-md hover:-translate-y-0.5 hover:border-primary/30 motion-reduce:transition-none motion-reduce:hover:transform-none
```
Key changes: Remove `hover:scale-[1.03]` (causes layout reflow), downgrade `hover:shadow-lg` to `hover:shadow-md` (subtler), add `hover:border-primary/30` (accent border highlight), add `motion-reduce:` for accessibility.

**`components/tasks/task-card.tsx`:**
Apply the exact same replacement as habit-card.tsx. The current task-card.tsx line has:
```
transition-all hover:shadow-lg hover:scale-[1.03] hover:-translate-y-0.5 duration-200
```
Replace with:
```
transition-all duration-200 hover:shadow-md hover:-translate-y-0.5 hover:border-primary/30 motion-reduce:transition-none motion-reduce:hover:transform-none
```

**`app/page.tsx` (landing page):**
Find the feature card div with `hover:shadow-md transition-shadow`. Update to:
```
transition-all duration-200 hover:shadow-md hover:-translate-y-0.5 hover:border-primary/30 motion-reduce:transition-none motion-reduce:hover:transform-none
```
Key change: Upgrade from `transition-shadow` to `transition-all` so the translate-y and border changes also animate.

Also update the CTA button (the one with `transition-colors shadow-lg hover:shadow-xl`) to add `active:scale-[0.98] motion-reduce:active:transform-none`. Change `transition-colors` to `transition-all duration-200`.

Do NOT add hover effects to:
- StatCard (display-only, not interactive)
- MotivationMessage Card (display-only)
- WeeklyInsightCard (display-only)
- MilestoneCard (display-only)
- Form-wrapping Cards (create/edit pages -- these are containers, not interactive)
  </action>
  <verify>
Run `pnpm lint` to verify no lint errors.
Run `grep -rn "scale-\[1.03\]" components/ app/` to confirm zero remaining aggressive scale transforms.
Run `grep -rn "motion-reduce:" components/ app/` to confirm motion-reduce classes exist (should find multiple occurrences in habit-card, task-card, page.tsx).
  </verify>
  <done>
HabitCard, TaskCard, and landing page feature cards all use the refined hover pattern: `transition-all duration-200 hover:shadow-md hover:-translate-y-0.5 hover:border-primary/30 motion-reduce:transition-none motion-reduce:hover:transform-none`. No `hover:scale-[1.03]` remains. Landing CTA button has `active:scale-[0.98]` press feedback.
  </done>
</task>

<task type="auto">
  <name>Task 2: Add focus-visible and hover polish to interactive rows and dashboard elements</name>
  <files>
    components/dashboard/tasks-today.tsx
    components/dashboard/habit-checklist.tsx
    components/dashboard/daily-snapshot.tsx
  </files>
  <action>
Add consistent focus-visible and hover interaction polish to remaining interactive elements:

**`components/dashboard/habit-checklist.tsx`:**
Find the HabitRow button element (the `<button>` that wraps each habit row). It should have `hover:bg-accent` but may lack focus-visible styles. Ensure it has:
```
focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2
```
If the button already has these via the Button component, skip. Only add if it's a raw `<button>` element.

Also add `transition-colors duration-150` to the hover:bg-accent if not already present, so the background change animates smoothly.

**`components/dashboard/tasks-today.tsx`:**
Find the TaskRow interactive element. Apply the same focus-visible pattern as habit-checklist if it's a raw interactive element (button or clickable div). Add `transition-colors duration-150` for smooth hover bg change.

**`components/dashboard/daily-snapshot.tsx`:**
Check if StatCard or its parent has any interactive behavior (onClick, Link wrapper). If StatCards are purely display-only (no click handler), do NOT add hover effects. Only add `transition-colors duration-150` to any elements that already have hover:bg-* classes.

**General rules:**
- Only add focus-visible ring to NON-button interactive elements (buttons already inherit from Button component or have built-in focus styles)
- Add `transition-colors duration-150` alongside existing `hover:bg-*` classes that lack transition timing
- Add `motion-reduce:transition-none` alongside any new `transition-*` class

After making changes, run lint and tests to verify nothing broke.
  </action>
  <verify>
Run `pnpm lint` to verify no lint errors.
Run `pnpm test:run` to verify all tests pass.
Run `grep -rn "motion-reduce:" components/ app/ | grep -v node_modules | grep -v ".planning"` to confirm motion-reduce classes are present across multiple files.
  </verify>
  <done>
All interactive row elements in habit-checklist and tasks-today have smooth transition timing and appropriate focus-visible styles. StatCards remain static (no hover effects). Motion-reduce support exists on all new transition classes. All tests pass.
  </done>
</task>

</tasks>

<verification>
1. `pnpm lint` passes with zero errors
2. `pnpm test:run` passes (all existing tests)
3. `grep -rn "scale-\[1.03\]" components/ app/` returns zero results (aggressive scale removed)
4. `grep -rn "motion-reduce:" components/ app/ | grep -v node_modules | grep -v ".planning" | wc -l` returns 6+ (multiple files with motion-reduce support)
5. `grep -rn "hover:shadow-md hover:-translate-y-0.5 hover:border-primary/30" components/` confirms consistent pattern across HabitCard and TaskCard
</verification>

<success_criteria>
- Interactive cards (HabitCard, TaskCard, feature cards) all use consistent hover: shadow-md + translate-y-0.5 + border-primary/30
- No `hover:scale-[1.03]` remains anywhere (replaced with translate-y lift)
- `motion-reduce:transition-none motion-reduce:hover:transform-none` present on all elements with transitions
- Interactive rows have smooth transition timing and focus-visible ring where appropriate
- Display-only cards (StatCard, MotivationMessage, WeeklyInsight) have NO hover effects
- All tests pass, lint clean
</success_criteria>

<output>
After completion, create `.planning/phases/08-visual-polish/08-02-SUMMARY.md`
</output>
