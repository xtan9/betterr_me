---
phase: 06-habits-tasks-remaining-pages-migration
plan: 04
type: execute
wave: 2
depends_on: ["06-01"]
files_modified:
  - components/auth-branding.tsx
  - app/auth/login/page.tsx
  - app/auth/sign-up/page.tsx
  - app/auth/forgot-password/page.tsx
  - app/auth/update-password/page.tsx
  - app/auth/sign-up-success/page.tsx
  - app/auth/error/page.tsx
autonomous: true
requirements:
  - VISL-10

must_haves:
  truths:
    - "All 6 auth pages display branding (icon + BetterR.me text) above the form card"
    - "Auth pages render on white background (bg-background, NOT bg-page gray)"
    - "Auth forms remain wrapped in Card component with border and shadow"
    - "Existing cross-links between auth pages (login <-> signup) are preserved"
    - "Sign-up success and error pages use same centered card layout with branding"
  artifacts:
    - path: "components/auth-branding.tsx"
      provides: "Reusable branding block for auth pages"
      contains: "AuthBranding"
    - path: "app/auth/login/page.tsx"
      provides: "Login page with branding"
      contains: "AuthBranding"
    - path: "app/auth/sign-up/page.tsx"
      provides: "Sign-up page with branding"
      contains: "AuthBranding"
  key_links:
    - from: "app/auth/login/page.tsx"
      to: "components/auth-branding.tsx"
      via: "branding component import"
      pattern: "AuthBranding"
    - from: "components/auth-branding.tsx"
      to: "globals.css"
      via: "design tokens (bg-primary, font-display)"
      pattern: "bg-primary.*text-primary-foreground|font-display"
---

<objective>
Add branding to all 6 auth pages (login, sign-up, forgot-password, update-password, sign-up-success, error).

Purpose: Auth pages need the brand identity with logo + app name above the form card. They use white background (distinct from the app interior's gray). This is the simplest migration since auth forms already use Card components.

Output: AuthBranding component, all 6 auth pages with branding above form card.
</objective>

<execution_context>
@/home/xingdi/.claude/get-shit-done/workflows/execute-plan.md
@/home/xingdi/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/06-habits-tasks-remaining-pages-migration/06-RESEARCH.md
@app/auth/login/page.tsx
@app/auth/sign-up/page.tsx
@app/auth/forgot-password/page.tsx
@app/auth/update-password/page.tsx
@app/auth/sign-up-success/page.tsx
@app/auth/error/page.tsx
@components/login-form.tsx
@components/sign-up-form.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create AuthBranding component</name>
  <files>
    components/auth-branding.tsx
  </files>
  <action>
Create `components/auth-branding.tsx` as a simple branding block matching the AppSidebar's brand pattern:

```tsx
export function AuthBranding() {
  return (
    <div className="flex items-center justify-center gap-2 mb-8">
      <div className="flex size-10 items-center justify-center rounded-md bg-primary text-primary-foreground">
        <span className="font-display font-bold text-lg">B</span>
      </div>
      <span className="font-display font-semibold text-xl">BetterR.me</span>
    </div>
  );
}
```

Design decisions (Claude's discretion):
- No logo asset exists in the project; using styled text mark with "B" initial (same as AppSidebar).
- `bg-primary text-primary-foreground` uses the design token colors (emerald/teal brand).
- `font-display` for the brand font matching the rest of the app.
- `size-10` (40px) icon square, `text-xl` app name.
- `mb-8` (32px) spacing below branding before the form card.
- This is a server component (no "use client" needed) -- it's pure static markup.
  </action>
  <verify>
Run `pnpm lint` to verify no TypeScript errors.
  </verify>
  <done>
AuthBranding component exists at `components/auth-branding.tsx` with brand icon and "BetterR.me" text using design tokens.
  </done>
</task>

<task type="auto">
  <name>Task 2: Add branding to all 6 auth pages</name>
  <files>
    app/auth/login/page.tsx
    app/auth/sign-up/page.tsx
    app/auth/forgot-password/page.tsx
    app/auth/update-password/page.tsx
    app/auth/sign-up-success/page.tsx
    app/auth/error/page.tsx
  </files>
  <action>
Add `<AuthBranding />` above the form/card in each auth page. The pattern is identical for all 6 pages:

**Login page (`app/auth/login/page.tsx`):**
```tsx
import { LoginForm } from "@/components/login-form";
import { AuthBranding } from "@/components/auth-branding";

export default function Page() {
  return (
    <div className="flex min-h-svh w-full items-center justify-center p-6 md:p-10">
      <div className="w-full max-w-sm">
        <AuthBranding />
        <LoginForm />
      </div>
    </div>
  );
}
```

**Sign-up page (`app/auth/sign-up/page.tsx`):**
Same pattern: add `import { AuthBranding }` and `<AuthBranding />` before `<SignUpForm />`.

**Forgot password page (`app/auth/forgot-password/page.tsx`):**
Same pattern: add before `<ForgotPasswordForm />`.

**Update password page (`app/auth/update-password/page.tsx`):**
Same pattern: add before `<UpdatePasswordForm />`.

**Sign-up success page (`app/auth/sign-up-success/page.tsx`):**
Add `<AuthBranding />` before the `<div className="flex flex-col gap-6">` wrapper:
```tsx
import { AuthBranding } from "@/components/auth-branding";

// Inside the inner div:
<AuthBranding />
<div className="flex flex-col gap-6">
  <Card>...</Card>
</div>
```

**Error page (`app/auth/error/page.tsx`):**
Same pattern as sign-up success: add `<AuthBranding />` before the card wrapper.

Important reminders:
- Do NOT add `bg-page` or any gray background to auth pages (locked decision: auth uses white bg-background)
- Auth pages are NOT inside SidebarShell, so they naturally get `bg-background` (white) from the root layout
- Existing cross-links within LoginForm/SignUpForm (login <-> signup links) are preserved inside the form components -- no changes needed there
- The form components already wrap their content in Card, so no additional Card wrapping needed
  </action>
  <verify>
Run `pnpm lint` to verify no TypeScript errors. Run `pnpm build` to verify all auth pages compile correctly (they're server components with static rendering, so build catches issues).
  </verify>
  <done>
All 6 auth pages display AuthBranding (icon + "BetterR.me" text) above their form cards on a white background. Existing cross-links and Card styling preserved.
  </done>
</task>

</tasks>

<verification>
1. `pnpm lint` passes
2. `pnpm build` succeeds (auth pages are mostly server components)
3. All 6 auth pages have AuthBranding import and render
4. Auth pages render on white background (no bg-page class added)
</verification>

<success_criteria>
- AuthBranding component exists with brand icon and text
- All 6 auth pages show branding above form card
- White background maintained on all auth pages
- Cross-links between auth pages preserved
</success_criteria>

<output>
After completion, create `.planning/phases/06-habits-tasks-remaining-pages-migration/06-04-SUMMARY.md`
</output>
