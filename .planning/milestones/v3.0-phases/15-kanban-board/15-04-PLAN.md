---
phase: 15-kanban-board
plan: 04
type: execute
wave: 1
depends_on: []
files_modified:
  - .planning/REQUIREMENTS.md
  - .planning/ROADMAP.md
autonomous: true
requirements: [KANB-03, KANB-04, KANB-05]
gap_closure: true

must_haves:
  truths:
    - "KANB-03, KANB-04, KANB-05 are marked as deferred (not pending) in REQUIREMENTS.md"
    - "REQUIREMENTS.md explains why each was deferred (user locked decision)"
    - "ROADMAP.md Phase 15 goal describes what was actually built, not the original aspirational goal"
    - "ROADMAP.md Phase 15 success criteria contains only the 4 criteria that are actually satisfied"
    - "ROADMAP.md Phase 15 requirements line no longer lists KANB-03, KANB-04, KANB-05"
  artifacts:
    - path: ".planning/REQUIREMENTS.md"
      provides: "KANB-03/04/05 moved to deferred section with deferral reason"
      contains: "Deferred by user"
    - path: ".planning/ROADMAP.md"
      provides: "Phase 15 goal and success criteria matching what was built"
  key_links:
    - from: ".planning/REQUIREMENTS.md"
      to: ".planning/ROADMAP.md"
      via: "Consistent requirement status â€” both documents agree KANB-03/04/05 are deferred"
      pattern: "KANB-03|KANB-04|KANB-05"
---

<objective>
Update documentation to reflect user's locked decisions that deferred KANB-03, KANB-04, and KANB-05 during the context discussion phase.

Purpose: The verifier flagged KANB-03/04/05 as gaps, but the user explicitly locked these as deferred before planning began (recorded in 15-CONTEXT.md). The code is correct â€” only the planning documentation is out of sync. No code changes are needed.

Output: REQUIREMENTS.md with KANB-03/04/05 moved to a deferred section; ROADMAP.md Phase 15 with goal and success criteria updated to match what was built.
</objective>

<execution_context>
@/home/xingdi/.claude/get-shit-done/workflows/execute-plan.md
@/home/xingdi/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/ROADMAP.md
@.planning/REQUIREMENTS.md
@.planning/phases/15-kanban-board/15-CONTEXT.md
@.planning/phases/15-kanban-board/15-VERIFICATION.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Mark KANB-03, KANB-04, KANB-05 as deferred in REQUIREMENTS.md</name>
  <files>.planning/REQUIREMENTS.md</files>
  <action>
The three requirements were intentionally deferred by user locked decisions in 15-CONTEXT.md. Update REQUIREMENTS.md to reflect this.

**Step 1 â€” Remove KANB-03, KANB-04, KANB-05 from the Kanban Board requirements section:**

Change the three Pending items from:
```
- [ ] **KANB-03**: User can drag and drop tasks within a column to reorder them
- [ ] **KANB-04**: Dragging a task to Done triggers completion reflection (emoji strip for high-priority/intentional tasks)
- [ ] **KANB-05**: Kanban cards display the task's intention ("Your Why") when present
```

To (remove them entirely from this section â€” they will appear in the deferred section instead).

**Step 2 â€” Add KANB-03, KANB-04, KANB-05 to the "Future Requirements" / "Kanban Polish" section:**

Under the existing `### Kanban Polish` sub-heading (which already has KANB-06 and KANB-07), add:

```
- **KANB-03**: User can drag and drop tasks within a column to reorder â€” deferred; user decided cards auto-sort by priority (high â†’ low), no manual reorder needed (Phase 15 context decision)
- **KANB-04**: Completion reflection on drag-to-Done â€” deferred; user decided tasks move to Done silently with no emoji prompt (Phase 15 context decision)
- **KANB-05**: Kanban cards display task intention ("Your Why") â€” deferred; user decided no intention display on cards (Phase 15 context decision)
```

**Step 3 â€” Update the Traceability table:**

Change the three rows from `Pending` to `Deferred`:
```
| KANB-03 | Phase 15 | Deferred |
| KANB-04 | Phase 15 | Deferred |
| KANB-05 | Phase 15 | Deferred |
```

**Step 4 â€” Update the coverage count at the bottom:**

Change:
```
- v3.0 requirements: 20 total
```
To:
```
- v3.0 requirements: 17 active (3 deferred to future)
```

Also update the last-updated date:
```
*Last updated: 2026-02-20 â€” KANB-03, KANB-04, KANB-05 moved to deferred (user decisions from Phase 15 context discussion)*
```
  </action>
  <verify>
    - grep -c "KANB-03\|KANB-04\|KANB-05" .planning/REQUIREMENTS.md shows entries exist
    - grep "Deferred" .planning/REQUIREMENTS.md shows the traceability rows updated
    - grep "\[ \] \*\*KANB-0[345]" .planning/REQUIREMENTS.md returns empty (no pending checkboxes for these 3)
    - The file reads coherently with KANB-03/04/05 clearly in the deferred/future section
  </verify>
  <done>
    REQUIREMENTS.md has no pending [ ] checkboxes for KANB-03, KANB-04, KANB-05. All three appear in the future/deferred section with a reason. The traceability table shows Deferred for all three. Coverage count is accurate.
  </done>
</task>

<task type="auto">
  <name>Task 2: Update ROADMAP.md Phase 15 goal, requirements line, and success criteria</name>
  <files>.planning/ROADMAP.md</files>
  <action>
Phase 15 in ROADMAP.md still references the original aspirational goal that included the three deferred features. Update to match what was actually built.

**Step 1 â€” Update the Phase 15 milestone description in the "ðŸš§ v3.0" section (line ~47):**

Change:
```
- [x] **Phase 15: Kanban Board** - 4-column kanban with drag-and-drop, completion reflection, intention display (completed 2026-02-21)
```
To:
```
- [x] **Phase 15: Kanban Board** - 4-column kanban with cross-column drag-and-drop, detail modal, quick-add (completed 2026-02-20)
```

**Step 2 â€” Update the `### Phase 15: Kanban Board` detail section:**

Change the Goal line from:
```
**Goal**: Users can view and manage a project's tasks on a 4-column kanban board with drag-and-drop, completion reflection, and intention display
```
To:
```
**Goal**: Users can view and manage a project's tasks on a 4-column kanban board with cross-column drag-and-drop, a detail modal, and column quick-add
```

**Step 3 â€” Update the Requirements line:**

Change:
```
**Requirements**: PAGE-03, KANB-01, KANB-02, KANB-03, KANB-04, KANB-05, I18N-01
```
To:
```
**Requirements**: PAGE-03, KANB-01, KANB-02, I18N-01
```
(KANB-03, KANB-04, KANB-05 are deferred â€” not requirements of this phase)

**Step 4 â€” Update the Success Criteria block:**

Replace the full 5-item success criteria with the 4 that are satisfied:
```
**Success Criteria** (what must be TRUE):
  1. Clicking a project card on the tasks page opens a 4-column kanban board (Backlog, To Do, In Progress, Done) showing that project's tasks
  2. User can drag a task card between columns to change its status, and the change persists after page reload; if the API fails the card snaps back with an error toast
  3. Clicking a kanban card opens a Monday.com-style detail modal showing all task fields; hovering a column reveals a quick-add input to create a task in that column
  4. All kanban UI strings are translated in en, zh, and zh-TW
```

(Removes original criteria 3 â€” within-column reorder, criteria 4 â€” emoji strip, and criteria 5 â€” intention display, which were all deferred.)

**Step 5 â€” Update the Plans checklist** to show all 3 as complete:
```
Plans:
- [x] 15-01-PLAN.md â€” Foundation: install @dnd-kit, project_id API filter, kanban page route, i18n strings
- [x] 15-02-PLAN.md â€” Core board: KanbanBoard + KanbanColumn + KanbanCard + drag-and-drop with SWR
- [x] 15-03-PLAN.md â€” Interactions: Monday.com-style detail modal + column quick-add
```
  </action>
  <verify>
    - grep "KANB-03\|KANB-04\|KANB-05" .planning/ROADMAP.md returns empty (they are gone from Phase 15)
    - grep "completion reflection\|intention display\|emoji" .planning/ROADMAP.md returns empty (removed from Phase 15 text)
    - grep "Success Criteria" .planning/ROADMAP.md shows the Phase 15 block has 4 items, not 5
    - The Phase 15 goal reads coherently and matches what was actually built
  </verify>
  <done>
    ROADMAP.md Phase 15 goal, requirements line, and success criteria all describe the system as actually built. No references to KANB-03/04/05 in Phase 15. The three deferred items are documented in REQUIREMENTS.md instead.
  </done>
</task>

</tasks>

<verification>
- grep "\[ \] \*\*KANB-0[345]" .planning/REQUIREMENTS.md â€” should return empty
- grep "KANB-03\|KANB-04\|KANB-05" .planning/ROADMAP.md â€” should return empty
- grep "Deferred" .planning/REQUIREMENTS.md â€” shows at least 3 matches (traceability rows)
- Read ROADMAP.md Phase 15 section â€” goal, requirements, and success criteria are consistent with what was built
- Read REQUIREMENTS.md Kanban Board section â€” only KANB-01 and KANB-02 are checked, KANB-03/04/05 are in the future section
</verification>

<success_criteria>
- KANB-03, KANB-04, KANB-05 have no pending [ ] checkboxes in REQUIREMENTS.md
- All three appear in the future/deferred section with a reason referencing the Phase 15 context decision
- ROADMAP.md Phase 15 shows 4 success criteria (not 5) â€” all 4 are satisfied by the implementation
- ROADMAP.md Phase 15 requirements line lists only PAGE-03, KANB-01, KANB-02, I18N-01
- No code was modified â€” this is documentation-only gap closure
</success_criteria>

<output>
After completion, create `.planning/phases/15-kanban-board/15-04-SUMMARY.md`
</output>
